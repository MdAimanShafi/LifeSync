(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{2714:(e,s,t)=>{"use strict";t.d(s,{J:()=>c});var a=t(5155),l=t(2115),i=t(968),r=t(2085),n=t(3999);let d=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(i.b,{ref:s,className:(0,n.cn)(d(),t),...l})});c.displayName=i.b.displayName},3812:(e,s,t)=>{Promise.resolve().then(t.bind(t,9164))},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(2596),l=t(9688);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.QP)((0,a.$)(s))}},7168:(e,s,t)=>{"use strict";t.d(s,{$:()=>c,r:()=>d});var a=t(5155),l=t(2115),i=t(9708),r=t(2085),n=t(3999);let d=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,s)=>{let{className:t,variant:l,size:r,asChild:c=!1,...o}=e,m=c?i.DX:"button";return(0,a.jsx)(m,{className:(0,n.cn)(d({variant:l,size:r,className:t})),ref:s,...o})});c.displayName="Button"},8145:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(5155);t(2115);var l=t(2085),i=t(3999);let r=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...l}=e;return(0,a.jsx)("div",{className:(0,i.cn)(r({variant:t}),s),...l})}},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>r,aR:()=>n});var a=t(5155),l=t(2115),i=t(3999);let r=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});r.displayName="Card";let n=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",t),...l})});n.displayName="CardHeader";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});d.displayName="CardTitle";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...l})});c.displayName="CardDescription";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",t),...l})});o.displayName="CardContent",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",t),...l})}).displayName="CardFooter"},9026:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>d,TN:()=>c});var a=t(5155),l=t(2115),i=t(2085),r=t(3999);let n=(0,i.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=l.forwardRef((e,s)=>{let{className:t,variant:l,...i}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,r.cn)(n({variant:l}),t),...i})});d.displayName="Alert",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("h5",{ref:s,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",t),...l})}).displayName="AlertTitle";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",t),...l})});c.displayName="AlertDescription"},9164:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Y});var a=t(5155),l=t(2115),i=t(7168),r=t(8482),n=t(8145),d=t(9852),c=t(2714),o=t(1761),m=t(3999);let x=o.bL,u=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(o.B8,{ref:s,className:(0,m.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});u.displayName=o.B8.displayName;let h=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(o.l9,{ref:s,className:(0,m.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});h.displayName=o.l9.displayName;let g=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(o.UC,{ref:s,className:(0,m.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});g.displayName=o.UC.displayName;var f=t(1124),p=t(4416);let j=f.bL;f.l9;let N=f.ZL;f.bm;let v=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(f.hJ,{ref:s,className:(0,m.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})});v.displayName=f.hJ.displayName;let y=l.forwardRef((e,s)=>{let{className:t,children:l,...i}=e;return(0,a.jsxs)(N,{children:[(0,a.jsx)(v,{}),(0,a.jsxs)(f.UC,{ref:s,className:(0,m.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[l,(0,a.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});y.displayName=f.UC.displayName;let b=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,m.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};b.displayName="DialogHeader";let w=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(f.hE,{ref:s,className:(0,m.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})});w.displayName=f.hE.displayName;let S=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(f.VY,{ref:s,className:(0,m.cn)("text-sm text-muted-foreground",t),...l})});S.displayName=f.VY.displayName;var C=t(9026),A=t(1976),L=t(3861),k=t(381),R=t(4835),I=t(7100),O=t(7580),E=t(9397),D=t(3109),B=t(1497),F=t(7434),J=t(1788),Z=t(4616),T=t(7924),U=t(2657),z=t(3717),$=t(2525),_=t(8564),W=t(1243),M=t(9621),P=t(4498),V=t(5695),H=t(6874),Q=t.n(H);function Y(){var e;let s=(0,V.useRouter)(),[t,o]=(0,l.useState)([]),[m,f]=(0,l.useState)([]),[p,N]=(0,l.useState)([]),[v,H]=(0,l.useState)([]),[Y,G]=(0,l.useState)(""),[X,q]=(0,l.useState)(null),[K,ee]=(0,l.useState)(null),[es,et]=(0,l.useState)(!1),[ea,el]=(0,l.useState)(!1),[ei,er]=(0,l.useState)(!1),[en,ed]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=localStorage.getItem("adminSession");if(!e){s.push("/admin/login");return}ed(JSON.parse(e)),ec()},[s]);let ec=()=>{let e=JSON.parse(localStorage.getItem("adminData")||'{"users": [], "userLogins": []}'),s=JSON.parse(localStorage.getItem("registeredUsers")||"[]"),t=JSON.parse(localStorage.getItem("userLoginData")||"[]"),a=JSON.parse(localStorage.getItem("systemLogs")||"[]"),l=JSON.parse(localStorage.getItem("userFeedback")||"[]");o(s.map(e=>({id:e.id,fullName:e.fullName,email:e.email,phone:e.phone,status:e.status||"active",registrationTime:e.registrationTime,lastLogin:eo(e.email,t),medicines:Math.floor(6*Math.random()),complianceRate:Math.floor(40*Math.random())+60,totalLogins:em(e.email,t),location:e.location,gender:e.gender,dob:e.dob}))),f(e.userLogins||[]),N(a),H(l)},eo=(e,s)=>{let t=s.filter(s=>s.email===e);return 0===t.length?null:t[t.length-1].loginTime},em=(e,s)=>s.filter(s=>s.email===e).length,ex=t.filter(e=>e.fullName.toLowerCase().includes(Y.toLowerCase())||e.email.toLowerCase().includes(Y.toLowerCase())||e.phone.toLowerCase().includes(Y.toLowerCase())),eu=t.length,eh=t.filter(e=>"active"===e.status).length,eg=m.length,ef=v.filter(e=>"unread"===e.status).length;t.length>0&&(t.reduce((e,s)=>e+s.complianceRate,0),t.length);let ep=e=>{q(e),et(!0)},ej=e=>{q(e),el(!0)},eN=e=>{let s=v.map(s=>s.id===e.id?{...s,status:"read"}:s);localStorage.setItem("userFeedback",JSON.stringify(s)),ee(e),er(!0)},ev=e=>{if(!confirm("Are you sure you want to delete this user? This action cannot be undone."))return;let s=JSON.parse(localStorage.getItem("registeredUsers")||"[]").filter(s=>s.id!==e);localStorage.setItem("registeredUsers",JSON.stringify(s)),o(t.filter(s=>s.id!==e));let a=t.find(s=>s.id===e),l={id:Date.now(),type:"user_deleted",message:"Admin deleted user: ".concat(null==a?void 0:a.email),timestamp:new Date().toISOString(),severity:"warning",details:{userId:e,adminEmail:null==en?void 0:en.email}},i=JSON.parse(localStorage.getItem("systemLogs")||"[]");i.push(l),localStorage.setItem("systemLogs",JSON.stringify(i)),alert("User deleted successfully!"),ec()},ey=e=>{if(!confirm("Are you sure you want to delete this feedback?"))return;let s=v.filter(s=>s.id!==e);localStorage.setItem("userFeedback",JSON.stringify(s)),H(s),er(!1);let t={id:Date.now(),type:"feedback_deleted",message:"Admin deleted feedback",timestamp:new Date().toISOString(),severity:"info"},a=JSON.parse(localStorage.getItem("systemLogs")||"[]");a.push(t),localStorage.setItem("systemLogs",JSON.stringify(a))};return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,a.jsx)("header",{className:"bg-white border-b shadow-sm sticky top-0 z-10",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.A,{className:"h-8 w-8 text-blue-600"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"MadeCare India"}),(0,a.jsx)(n.E,{variant:"secondary",className:"ml-2 bg-red-100 text-red-800",children:"Admin Control Center"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(n.E,{variant:"outline",className:"bg-green-50 text-green-700",children:[p.filter(e=>"warning"===e.severity).length," Alerts"]}),ef>0&&(0,a.jsxs)(n.E,{variant:"destructive",children:[ef," New Feedback"]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(L.A,{className:"h-4 w-4"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(k.A,{className:"h-4 w-4"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{let e={id:Date.now(),type:"admin_logout",message:"Admin logout: ".concat(null==en?void 0:en.email),timestamp:new Date().toISOString(),severity:"info"},t=JSON.parse(localStorage.getItem("systemLogs")||"[]");t.push(e),localStorage.setItem("systemLogs",JSON.stringify(t)),localStorage.removeItem("adminSession"),s.push("/admin/login")},children:(0,a.jsx)(R.A,{className:"h-4 w-4"})})]})]})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Admin Control Center"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["Complete system control - Welcome back, ",(null==en?void 0:en.fullName)||(null==en?void 0:null===(e=en.email)||void 0===e?void 0:e.split("@")[0]),"!"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Last login: ",new Date().toLocaleString()]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Admin: ",null==en?void 0:en.email]})]})]}),(0,a.jsx)(r.Zp,{className:"mb-8 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:(0,a.jsxs)(r.Wu,{className:"p-6 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"App Editor & Customization"}),(0,a.jsx)("p",{children:"Modify app content, add new features, or customize the entire application"})]}),(0,a.jsx)(Q(),{href:"/admin/app-editor",children:(0,a.jsxs)(i.$,{variant:"secondary",size:"lg",className:"whitespace-nowrap",children:[(0,a.jsx)(I.A,{className:"h-4 w-4 mr-2"}),"Open App Editor"]})})]})}),(0,a.jsxs)("div",{className:"grid md:grid-cols-5 gap-6 mb-8",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Users"}),(0,a.jsx)(O.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:eu}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Registered accounts"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Active Users"}),(0,a.jsx)(E.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:eh}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[eu>0?Math.round(eh/eu*100):0,"% of total"]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Total Logins"}),(0,a.jsx)(D.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:eg}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"All time logins"})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"Feedback"}),(0,a.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:v.length}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[ef," unread"]})]})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ZB,{className:"text-sm font-medium",children:"System Logs"}),(0,a.jsx)(F.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:p.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total events"})]})]})]}),(0,a.jsxs)(x,{defaultValue:"users",className:"space-y-6",children:[(0,a.jsxs)(u,{className:"grid grid-cols-5",children:[(0,a.jsx)(h,{value:"users",children:"User Management"}),(0,a.jsx)(h,{value:"logins",children:"Login Tracking"}),(0,a.jsx)(h,{value:"feedback",children:"User Feedback"}),(0,a.jsx)(h,{value:"logs",children:"System Logs"}),(0,a.jsx)(h,{value:"editor",children:"App Editor"})]}),(0,a.jsx)(g,{value:"users",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ZB,{children:"Complete User Management"}),(0,a.jsx)(r.BT,{children:"Full control over all user accounts and data"})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{let e=new Blob([JSON.stringify({users:t,userLogins:m,systemLogs:p,feedback:v,exportTime:new Date().toISOString(),exportedBy:null==en?void 0:en.email},null,2)],{type:"application/json"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download="madecare_complete_data_".concat(new Date().toISOString().split("T")[0],".json"),a.click(),URL.revokeObjectURL(s);let l={id:Date.now(),type:"data_export",message:"Admin exported all data",timestamp:new Date().toISOString(),severity:"info",details:{adminEmail:null==en?void 0:en.email,recordCount:t.length}},i=JSON.parse(localStorage.getItem("systemLogs")||"[]");i.push(l),localStorage.setItem("systemLogs",JSON.stringify(i))},children:[(0,a.jsx)(J.A,{className:"h-4 w-4 mr-2"}),"Export All Data"]}),(0,a.jsxs)(i.$,{size:"sm",children:[(0,a.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"Add User"]})]})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)("div",{className:"flex items-center space-x-2 mb-4",children:(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(T.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(d.p,{placeholder:"Search users by name, email, or phone...",value:Y,onChange:e=>G(e.target.value),className:"pl-10"})]})}),(0,a.jsx)("div",{className:"space-y-4",children:ex.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-white hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-blue-600 font-medium",children:e.fullName.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium",children:e.fullName}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.phone}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsx)(n.E,{variant:"active"===e.status?"default":"secondary",children:e.status}),(0,a.jsxs)(n.E,{variant:"outline",children:[e.totalLogins," logins"]}),(0,a.jsxs)(n.E,{variant:e.complianceRate>=80?"default":"destructive",children:[e.complianceRate,"% compliance"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Registered: ",new Date(e.registrationTime).toLocaleDateString()]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Last login: ",e.lastLogin?new Date(e.lastLogin).toLocaleDateString():"Never"]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Location: ",e.location]})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>ej(e),children:(0,a.jsx)(U.A,{className:"h-4 w-4"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>ep(e),children:(0,a.jsx)(z.A,{className:"h-4 w-4"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>ev(e.id),children:(0,a.jsx)($.A,{className:"h-4 w-4"})})]})]})]},e.id))})]})]})}),(0,a.jsx)(g,{value:"logins",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"User Login Tracking"}),(0,a.jsx)(r.BT,{children:"Complete history of all user login activities"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:m.slice(0,20).map(e=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.email}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.loginTime).toLocaleString()}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["IP: ",e.ipAddress]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)(n.E,{variant:"active"===e.status?"default":"secondary",children:e.status}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(null===(s=e.deviceInfo)||void 0===s?void 0:s.platform)||"Unknown Platform"})]})]},e.id)})})})]})}),(0,a.jsx)(g,{value:"feedback",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"User Feedback"}),(0,a.jsx)(r.BT,{children:"All feedback and suggestions from users"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:0===v.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No feedback received yet."}):v.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border ".concat("unread"===e.status?"bg-blue-50 border-blue-200":"bg-white"," hover:shadow-md transition-shadow cursor-pointer"),onClick:()=>eN(e),children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h3",{className:"font-medium",children:e.subject}),"unread"===e.status&&(0,a.jsx)(n.E,{variant:"default",children:"New"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["From: ",e.name," (",e.email,")"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleString()}),(0,a.jsx)("div",{className:"flex mt-1",children:Array.from({length:5}).map((s,t)=>(0,a.jsx)(_.A,{className:"h-4 w-4 ".concat(t<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-300")},t))})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",children:(0,a.jsx)(U.A,{className:"h-4 w-4"})})]},e.id))})})]})}),(0,a.jsx)(g,{value:"logs",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"System Activity Logs"}),(0,a.jsx)(r.BT,{children:"Complete system activity and security logs"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"space-y-3",children:p.slice().reverse().slice(0,50).map(e=>(0,a.jsxs)(C.Fc,{className:"".concat("warning"===e.severity?"border-orange-300 bg-orange-50":"error"===e.severity?"border-red-300 bg-red-50":"border-blue-300 bg-blue-50"),children:[(0,a.jsx)(W.A,{className:"h-4 w-4"}),(0,a.jsxs)(C.TN,{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:e.type.replace("_"," ").toUpperCase()}),": ",e.message,(0,a.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",new Date(e.timestamp).toLocaleString(),")"]})]}),(0,a.jsx)(n.E,{variant:"warning"===e.severity?"destructive":"error"===e.severity?"destructive":"default",children:e.severity})]})]},e.id))})})]})}),(0,a.jsx)(g,{value:"editor",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center",children:[(0,a.jsx)(M.A,{className:"h-6 w-6 mr-2"}),"App Editor & Customization"]}),(0,a.jsx)(r.BT,{children:"Modify app content, add new features, or customize the entire application"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"bg-blue-50",children:[(0,a.jsx)(r.ZB,{className:"text-blue-700",children:"Content Editor"}),(0,a.jsx)(r.BT,{children:"Modify text, images, and content throughout the app"})]}),(0,a.jsx)(r.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(Q(),{href:"/admin/app-editor/content",children:(0,a.jsxs)(i.$,{className:"w-full",children:[(0,a.jsx)(I.A,{className:"h-4 w-4 mr-2"}),"Edit App Content"]})}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Change text, update images, modify FAQs, and customize all content displayed in the app."})]})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"bg-purple-50",children:[(0,a.jsx)(r.ZB,{className:"text-purple-700",children:"Feature Manager"}),(0,a.jsx)(r.BT,{children:"Enable, disable, or customize app features"})]}),(0,a.jsx)(r.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(Q(),{href:"/admin/app-editor/features",children:(0,a.jsxs)(i.$,{className:"w-full",variant:"secondary",children:[(0,a.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"Manage Features"]})}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Control which features are available to users and customize how they work."})]})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"bg-green-50",children:[(0,a.jsx)(r.ZB,{className:"text-green-700",children:"Page Builder"}),(0,a.jsx)(r.BT,{children:"Create and modify app pages"})]}),(0,a.jsx)(r.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(Q(),{href:"/admin/app-editor/pages",children:(0,a.jsxs)(i.$,{className:"w-full",variant:"outline",children:[(0,a.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"Edit Pages"]})}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Add new pages, modify existing ones, or change the layout and structure of the app."})]})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{className:"bg-amber-50",children:[(0,a.jsx)(r.ZB,{className:"text-amber-700",children:"Code Editor"}),(0,a.jsx)(r.BT,{children:"Advanced customization with direct code access"})]}),(0,a.jsx)(r.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(Q(),{href:"/admin/app-editor/code",children:(0,a.jsxs)(i.$,{className:"w-full",variant:"outline",children:[(0,a.jsx)(M.A,{className:"h-4 w-4 mr-2"}),"Edit Code"]})}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"For advanced users: directly modify the app's code to add custom functionality."})]})})]})]})})]})})]})]}),(0,a.jsx)(j,{open:es,onOpenChange:et,children:(0,a.jsxs)(y,{className:"max-w-2xl",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(w,{children:"Edit User Details"}),(0,a.jsx)(S,{children:"Modify user information and settings"})]}),X&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"edit-name",children:"Full Name"}),(0,a.jsx)(d.p,{id:"edit-name",value:X.fullName,onChange:e=>q({...X,fullName:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"edit-email",children:"Email"}),(0,a.jsx)(d.p,{id:"edit-email",value:X.email,onChange:e=>q({...X,email:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"edit-phone",children:"Phone"}),(0,a.jsx)(d.p,{id:"edit-phone",value:X.phone,onChange:e=>q({...X,phone:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"edit-location",children:"Location"}),(0,a.jsx)(d.p,{id:"edit-location",value:X.location,onChange:e=>q({...X,location:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"edit-status",children:"Status"}),(0,a.jsxs)("select",{id:"edit-status",className:"w-full p-2 border rounded-md",value:X.status,onChange:e=>q({...X,status:e.target.value}),children:[(0,a.jsx)("option",{value:"active",children:"Active"}),(0,a.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"edit-compliance",children:"Compliance Rate (%)"}),(0,a.jsx)(d.p,{id:"edit-compliance",type:"number",min:"0",max:"100",value:X.complianceRate,onChange:e=>q({...X,complianceRate:Number.parseInt(e.target.value)||0})})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(i.$,{variant:"outline",onClick:()=>et(!1),children:"Cancel"}),(0,a.jsx)(i.$,{onClick:()=>{if(!X)return;let e=JSON.parse(localStorage.getItem("registeredUsers")||"[]").map(e=>e.id===X.id?{...e,...X}:e);localStorage.setItem("registeredUsers",JSON.stringify(e)),o(t.map(e=>e.id===X.id?X:e));let s={id:Date.now(),type:"user_edited",message:"Admin edited user: ".concat(X.email),timestamp:new Date().toISOString(),severity:"info",details:{userId:X.id,adminEmail:null==en?void 0:en.email}},a=JSON.parse(localStorage.getItem("systemLogs")||"[]");a.push(s),localStorage.setItem("systemLogs",JSON.stringify(a)),et(!1),alert("User updated successfully!"),ec()},children:"Save Changes"})]})]})]})}),(0,a.jsx)(j,{open:ea,onOpenChange:el,children:(0,a.jsxs)(y,{className:"max-w-3xl",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(w,{children:"Complete User Profile"}),(0,a.jsx)(S,{children:"Detailed view of user information and activity"})]}),X&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-4",children:"Personal Information"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Full Name:"}),(0,a.jsx)("span",{className:"font-medium",children:X.fullName})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Email:"}),(0,a.jsx)("span",{className:"font-medium",children:X.email})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Phone:"}),(0,a.jsx)("span",{className:"font-medium",children:X.phone})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Gender:"}),(0,a.jsx)("span",{className:"font-medium",children:X.gender})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Date of Birth:"}),(0,a.jsx)("span",{className:"font-medium",children:X.dob})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Location:"}),(0,a.jsx)("span",{className:"font-medium",children:X.location})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-4",children:"Account Activity"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,a.jsx)(n.E,{variant:"active"===X.status?"default":"secondary",children:X.status})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Registration:"}),(0,a.jsx)("span",{className:"font-medium",children:new Date(X.registrationTime).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Last Login:"}),(0,a.jsx)("span",{className:"font-medium",children:X.lastLogin?new Date(X.lastLogin).toLocaleDateString():"Never"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Total Logins:"}),(0,a.jsx)("span",{className:"font-medium",children:X.totalLogins})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Medicines:"}),(0,a.jsx)("span",{className:"font-medium",children:X.medicines})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Compliance Rate:"}),(0,a.jsxs)(n.E,{variant:X.complianceRate>=80?"default":"destructive",children:[X.complianceRate,"%"]})]})]})]})]})]})}),(0,a.jsx)(j,{open:ei,onOpenChange:er,children:(0,a.jsxs)(y,{className:"max-w-2xl",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(w,{children:"User Feedback"}),(0,a.jsx)(S,{children:"Feedback and suggestions from users"})]}),K&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:K.subject}),(0,a.jsx)("div",{className:"flex",children:Array.from({length:5}).map((e,s)=>(0,a.jsx)(_.A,{className:"h-5 w-5 ".concat(s<K.rating?"text-yellow-400 fill-yellow-400":"text-gray-300")},s))})]}),(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,a.jsx)("p",{className:"whitespace-pre-line",children:K.message})}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["From: ",K.name]}),(0,a.jsxs)("p",{children:["Email: ",K.email]})]}),(0,a.jsxs)("p",{children:["Submitted: ",new Date(K.timestamp).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsxs)(i.$,{variant:"destructive",onClick:()=>ey(K.id),children:[(0,a.jsx)($.A,{className:"h-4 w-4 mr-2"}),"Delete Feedback"]}),(0,a.jsx)(i.$,{onClick:()=>er(!1),children:"Close"})]})]})]})})]})}},9852:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(5155),l=t(2115),i=t(3999);let r=l.forwardRef((e,s)=>{let{className:t,type:l,...r}=e;return(0,a.jsx)("input",{type:l,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r})});r.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[352,874,21,735,237,627,441,684,358],()=>s(3812)),_N_E=e.O()}]);